<?xml version="1.0" encoding="UTF-8"?>
<scenario compiled="true" name="BSBBR_601-MLAT-small.xml" version="1.0" xmlns="nmfPlan" xmlns:CORE="coreSpecific">
  <network id="net0" name="net0">
    <type>ethernet</type>
    <alias domain="COREID">63629</alias>
    <member type="interface">n19/eth1</member>
    <member type="interface">n21/eth0</member>
    <member type="channel">net0/chan0</member>
    <channel id="net0/chan0" name="chan0">
      <type>ethernet</type>
      <member index="0" type="interface">n19/eth1</member>
      <member index="1" type="interface">n21/eth0</member>
    </channel>
  </network>
  <network id="n18" name="n18">
    <point lat="-17.4027267275" lon="-47.9400643831" type="gps"/>
    <type>ethernet</type>
    <hub id="n18/n18" name="n18">
      <type domain="CORE">hub</type>
      <interface id="n18/n18/e0" name="e0"/>
      <interface id="n18/n18/e1" name="e1"/>
      <interface id="n18/n18/e2" name="e2"/>
      <interface id="n18/n18/e3" name="e3"/>
      <interface id="n18/n18/e4" name="e4"/>
      <interface id="n18/n18/e5" name="e5"/>
      <alias domain="COREID">18</alias>
      <point lat="-17.4027267275" lon="-47.9400643831" type="gps"/>
    </hub>
    <member type="interface">n5/eth1</member>
    <member type="interface">n18/n18/e0</member>
    <member type="interface">n13/eth1</member>
    <member type="interface">n18/n18/e1</member>
    <member type="interface">n19/eth0</member>
    <member type="interface">n18/n18/e2</member>
    <member type="interface">n4/eth1</member>
    <member type="interface">n18/n18/e3</member>
    <member type="interface">n2/eth1</member>
    <member type="interface">n18/n18/e4</member>
    <member type="interface">n16/eth1</member>
    <member type="interface">n18/n18/e5</member>
    <member type="channel">n18/chan0</member>
    <member type="channel">n18/chan1</member>
    <member type="channel">n18/chan2</member>
    <member type="channel">n18/chan3</member>
    <member type="channel">n18/chan4</member>
    <member type="channel">n18/chan5</member>
    <channel id="n18/chan0" name="chan0">
      <type>ethernet</type>
      <member index="0" type="interface">n5/eth1</member>
      <member index="1" type="interface">n18/n18/e0</member>
    </channel>
    <channel id="n18/chan1" name="chan1">
      <type>ethernet</type>
      <member index="0" type="interface">n13/eth1</member>
      <member index="1" type="interface">n18/n18/e1</member>
    </channel>
    <channel id="n18/chan2" name="chan2">
      <type>ethernet</type>
      <member index="0" type="interface">n19/eth0</member>
      <member index="1" type="interface">n18/n18/e2</member>
    </channel>
    <channel id="n18/chan3" name="chan3">
      <type>ethernet</type>
      <member index="0" type="interface">n4/eth1</member>
      <member index="1" type="interface">n18/n18/e3</member>
    </channel>
    <channel id="n18/chan4" name="chan4">
      <type>ethernet</type>
      <member index="0" type="interface">n2/eth1</member>
      <member index="1" type="interface">n18/n18/e4</member>
    </channel>
    <channel id="n18/chan5" name="chan5">
      <type>ethernet</type>
      <member index="0" type="interface">n16/eth1</member>
      <member index="1" type="interface">n18/n18/e5</member>
    </channel>
  </network>
  <network id="wlan31" name="wlan31">
    <point lat="-14.2407090177" lon="-45.8332035489" type="gps"/>
    <type>wireless</type>
    <alias domain="COREID">31</alias>
    <member type="interface">n1/eth0</member>
    <member type="interface">n2/eth0</member>
    <member type="interface">n3/eth0</member>
    <member type="interface">n4/eth0</member>
    <member type="interface">n5/eth0</member>
    <member type="interface">n10/eth0</member>
    <member type="interface">n13/eth0</member>
    <member type="interface">n14/eth0</member>
    <member type="interface">n16/eth0</member>
    <member type="interface">n20/eth0</member>
    <member type="channel">wlan31/wireless</member>
    <channel id="wlan31/wireless" name="wireless">
      <type domain="CORE">emane_rfpipe</type>
      <parameter name="enablepromiscuousmode">off</parameter>
      <parameter name="datarate">1M</parameter>
      <parameter name="flowcontrolenable">off</parameter>
      <parameter name="flowcontroltokens">10</parameter>
      <parameter name="pcrcurveuri">/usr/share/emane/xml/models/mac/rfpipe/rfpipepcr.xml</parameter>
      <parameter name="jitter">0.0</parameter>
      <parameter name="delay">0.0</parameter>
      <parameter name="radiometricenable">off</parameter>
      <parameter name="radiometricreportinterval">1.0</parameter>
      <parameter name="neighbormetricdeletetime">60.0</parameter>
      <parameter name="bandwidth">1M</parameter>
      <parameter name="frequency">1.090G</parameter>
      <parameter name="frequencyofinterest">1.090G</parameter>
      <parameter name="subid">1</parameter>
      <parameter name="systemnoisefigure">4.0</parameter>
      <parameter name="txpower">100.0</parameter>
      <parameter name="fixedantennagain">0.0</parameter>
      <parameter name="fixedantennagainenable">on</parameter>
      <parameter name="noisemode">none</parameter>
      <parameter name="noisebinsize">20</parameter>
      <parameter name="propagationmodel">freespace</parameter>
      <member index="0" type="interface">n1/eth0</member>
      <member index="1" type="interface">n2/eth0</member>
      <member index="2" type="interface">n3/eth0</member>
      <member index="3" type="interface">n4/eth0</member>
      <member index="4" type="interface">n5/eth0</member>
      <member index="5" type="interface">n10/eth0</member>
      <member index="6" type="interface">n13/eth0</member>
      <member index="7" type="interface">n14/eth0</member>
      <member index="8" type="interface">n16/eth0</member>
      <member index="9" type="interface">n20/eth0</member>
    </channel>
  </network>
  <host id="n1" name="n1">
    <type domain="CORE">PC</type>
    <interface id="n1/eth0" name="eth0">
      <member index="0" type="channel">wlan31/wireless</member>
      <member type="network">wlan31</member>
      <address type="mac">00:00:00:aa:00:29</address>
      <address type="IPv4">10.0.0.21/24</address>
      <address type="IPv6">2001::21/128</address>
    </interface>
    <alias domain="COREID">1</alias>
    <point lat="-14.8098034503" lon="-47.6746328081" type="gps"/>
    <CORE:services name="n1">
      <service name="DefaultRoute" startup_idx="80"/>
      <service custom="True" name="AdsbReplay" startup_idx="50">
        <file name="ghost.sh">
#!/bin/sh
# auto-generated by AdsbSpoofer (adsb_spoofer.py)
sleep 15
python -m atn.surveillance.adsb.security.adsb_ghost 1 -1.89648897239e-05 3.65779898743e-05 0.0 --rewrite-icao24 --flood
</file>
        <command type="start">sh ghost.sh</command>
        <command type="stop">pkill python</command>
      </service>
    </CORE:services>
  </host>
  <host id="n2" name="n2">
    <type domain="CORE">ground-station</type>
    <interface id="n2/eth0" name="eth0">
      <member index="1" type="channel">wlan31/wireless</member>
      <member type="network">wlan31</member>
      <address type="mac">00:00:00:aa:00:2a</address>
      <address type="IPv4">10.0.0.1/24</address>
      <address type="IPv6">2001::1/128</address>
    </interface>
    <interface id="n2/eth1" name="eth1">
      <member index="0" type="channel">n18/chan4</member>
      <member type="network">n18</member>
      <address type="mac">00:00:00:aa:00:34</address>
      <address type="IPv4">10.0.1.4/24</address>
      <address type="IPv6">2001:1::4/64</address>
    </interface>
    <alias domain="COREID">2</alias>
    <point lat="-14.0650883646" lon="-49.4032240279" type="gps"/>
    <CORE:services name="n2">
      <service name="zebra" startup_idx="35"/>
      <service name="OSPFv3MDR" startup_idx="40"/>
      <service name="IPForward" startup_idx="5"/>
      <service custom="True" name="AdsbIn" startup_idx="50">
        <file name="adsb_in.cfg">
[glb]
destinations = dump1090 buster

[dump1090]
type = dump1090
server = localhost
port = 30001

[buster]
type = client
addr = 10.0.1.10
port = 12270

</file>
        <file name="adsb_in.sh"/>
        <command type="start">sh adsb_in.sh</command>
      </service>
    </CORE:services>
  </host>
  <host id="n3" name="n3">
    <type domain="CORE">aircraft</type>
    <interface id="n3/eth0" name="eth0">
      <member index="2" type="channel">wlan31/wireless</member>
      <member type="network">wlan31</member>
      <address type="mac">00:00:00:aa:00:25</address>
      <address type="IPv4">10.0.0.3/24</address>
      <address type="IPv6">2001::3/128</address>
    </interface>
    <alias domain="COREID">3</alias>
    <point lat="-14.169573624" lon="-47.1113780009" type="gps"/>
    <CORE:services name="n3">
      <service name="zebra" startup_idx="35"/>
      <service name="OSPFv3MDR" startup_idx="40"/>
      <service name="IPForward" startup_idx="5"/>
      <service name="DefaultMulticastRoute" startup_idx="80"/>
      <service name="GPSd" startup_idx="50"/>
      <service name="AdsbOut" startup_idx="50"/>
    </CORE:services>
  </host>
  <host id="n4" name="n4">
    <type domain="CORE">ground-station</type>
    <interface id="n4/eth0" name="eth0">
      <member index="3" type="channel">wlan31/wireless</member>
      <member type="network">wlan31</member>
      <address type="mac">00:00:00:aa:00:24</address>
      <address type="IPv4">10.0.0.4/24</address>
      <address type="IPv6">2001::4/128</address>
    </interface>
    <interface id="n4/eth1" name="eth1">
      <member index="0" type="channel">n18/chan3</member>
      <member type="network">n18</member>
      <address type="mac">00:00:00:aa:00:33</address>
      <address type="IPv4">10.0.1.3/24</address>
      <address type="IPv6">2001:1::3/64</address>
    </interface>
    <alias domain="COREID">4</alias>
    <point lat="-15.2377791801" lon="-47.8919474247" type="gps"/>
    <CORE:services name="n4">
      <service name="zebra" startup_idx="35"/>
      <service name="OSPFv3MDR" startup_idx="40"/>
      <service name="IPForward" startup_idx="5"/>
      <service name="Dump1090" startup_idx="50"/>
      <service custom="True" name="AdsbIn" startup_idx="50">
        <file name="adsb_in.cfg">
[glb]
destinations = dump1090 buster

[dump1090]
type = dump1090
server = localhost
port = 30001

[buster]
type = client
addr = 10.0.1.10
port = 12270

</file>
        <file name="adsb_in.sh"/>
        <command type="start">sh adsb_in.sh</command>
      </service>
    </CORE:services>
  </host>
  <host id="n5" name="n5">
    <type domain="CORE">ground-station</type>
    <interface id="n5/eth0" name="eth0">
      <member index="4" type="channel">wlan31/wireless</member>
      <member type="network">wlan31</member>
      <address type="mac">00:00:00:aa:00:2b</address>
      <address type="IPv4">10.0.0.2/24</address>
      <address type="IPv6">2001::2/128</address>
    </interface>
    <interface id="n5/eth1" name="eth1">
      <member index="0" type="channel">n18/chan0</member>
      <member type="network">n18</member>
      <address type="mac">00:00:00:aa:00:2e</address>
      <address type="IPv4">10.0.1.1/24</address>
      <address type="IPv6">2001:1::1/64</address>
    </interface>
    <alias domain="COREID">5</alias>
    <point lat="-17.7385537499" lon="-49.3739549837" type="gps"/>
    <CORE:services name="n5">
      <service name="zebra" startup_idx="35"/>
      <service name="OSPFv3MDR" startup_idx="40"/>
      <service name="IPForward" startup_idx="5"/>
      <service custom="True" name="AdsbIn" startup_idx="50">
        <file name="adsb_in.cfg">
[glb]
destinations = dump1090 buster

[dump1090]
type = dump1090
server = localhost
port = 30001

[buster]
type = client
addr = 10.0.1.10
port = 12270

</file>
        <file name="adsb_in.sh"/>
        <command type="start">sh adsb_in.sh</command>
      </service>
    </CORE:services>
  </host>
  <host id="n10" name="n10">
    <type domain="CORE">aircraft</type>
    <interface id="n10/eth0" name="eth0">
      <member index="5" type="channel">wlan31/wireless</member>
      <member type="network">wlan31</member>
      <address type="mac">00:00:00:aa:00:26</address>
      <address type="IPv4">10.0.0.10/24</address>
      <address type="IPv6">2001::10/128</address>
    </interface>
    <alias domain="COREID">10</alias>
    <point lat="-14.1335821638" lon="-48.439712455" type="gps"/>
    <CORE:services name="n10">
      <service name="zebra" startup_idx="35"/>
      <service name="OSPFv3MDR" startup_idx="40"/>
      <service name="IPForward" startup_idx="5"/>
      <service name="DefaultMulticastRoute" startup_idx="80"/>
      <service name="GPSd" startup_idx="50"/>
      <service name="AdsbOut" startup_idx="50"/>
    </CORE:services>
  </host>
  <host id="n13" name="n13">
    <type domain="CORE">ground-station</type>
    <interface id="n13/eth0" name="eth0">
      <member index="6" type="channel">wlan31/wireless</member>
      <member type="network">wlan31</member>
      <address type="mac">00:00:00:aa:00:2c</address>
      <address type="IPv4">10.0.0.5/24</address>
      <address type="IPv6">2001::5/128</address>
    </interface>
    <interface id="n13/eth1" name="eth1">
      <member index="0" type="channel">n18/chan1</member>
      <member type="network">n18</member>
      <address type="mac">00:00:00:aa:00:2f</address>
      <address type="IPv4">10.0.1.2/24</address>
      <address type="IPv6">2001:1::2/64</address>
    </interface>
    <alias domain="COREID">13</alias>
    <point lat="-17.4927176406" lon="-46.2610802884" type="gps"/>
    <CORE:services name="n13">
      <service name="zebra" startup_idx="35"/>
      <service name="OSPFv3MDR" startup_idx="40"/>
      <service name="IPForward" startup_idx="5"/>
      <service custom="True" name="AdsbIn" startup_idx="50">
        <file name="adsb_in.cfg">
[glb]
destinations = dump1090 buster

[dump1090]
type = dump1090
server = localhost
port = 30001

[buster]
type = client
addr = 10.0.1.10
port = 12270

</file>
        <file name="adsb_in.sh"/>
        <command type="start">sh adsb_in.sh</command>
      </service>
    </CORE:services>
  </host>
  <host id="n14" name="n14">
    <type domain="CORE">aircraft</type>
    <interface id="n14/eth0" name="eth0">
      <member index="7" type="channel">wlan31/wireless</member>
      <member type="network">wlan31</member>
      <address type="mac">00:00:00:aa:00:27</address>
      <address type="IPv4">10.0.0.14/24</address>
      <address type="IPv6">2001::14/128</address>
    </interface>
    <alias domain="COREID">14</alias>
    <point lat="-14.8298778734" lon="-49.5603579149" type="gps"/>
    <CORE:services name="n14">
      <service name="zebra" startup_idx="35"/>
      <service name="OSPFv3MDR" startup_idx="40"/>
      <service name="IPForward" startup_idx="5"/>
      <service name="DefaultMulticastRoute" startup_idx="80"/>
      <service name="GPSd" startup_idx="50"/>
      <service name="AdsbOut" startup_idx="50"/>
    </CORE:services>
  </host>
  <host id="n16" name="n16">
    <type domain="CORE">ground-station</type>
    <interface id="n16/eth0" name="eth0">
      <member index="8" type="channel">wlan31/wireless</member>
      <member type="network">wlan31</member>
      <address type="mac">00:00:00:aa:00:2d</address>
      <address type="IPv4">10.0.0.13/24</address>
      <address type="IPv6">2001::13/128</address>
    </interface>
    <interface id="n16/eth1" name="eth1">
      <member index="0" type="channel">n18/chan5</member>
      <member type="network">n18</member>
      <address type="mac">00:00:00:aa:00:35</address>
      <address type="IPv4">10.0.1.5/24</address>
      <address type="IPv6">2001:1::5/64</address>
    </interface>
    <alias domain="COREID">16</alias>
    <point lat="-14.4335039079" lon="-46.2003341382" type="gps"/>
    <CORE:services name="n16">
      <service name="zebra" startup_idx="35"/>
      <service name="OSPFv3MDR" startup_idx="40"/>
      <service name="IPForward" startup_idx="5"/>
      <service name="AdsbIn" startup_idx="50"/>
    </CORE:services>
  </host>
  <host id="n19" name="n19">
    <type domain="CORE">host</type>
    <interface id="n19/eth0" name="eth0">
      <member index="0" type="channel">n18/chan2</member>
      <member type="network">n18</member>
      <address type="mac">00:00:00:aa:00:30</address>
      <address type="IPv4">10.0.1.10/24</address>
      <address type="IPv6">2001:1::10/64</address>
    </interface>
    <interface id="n19/eth1" name="eth1">
      <member index="0" type="channel">net0/chan0</member>
      <member type="network">net0</member>
      <address type="mac">00:00:00:aa:00:31</address>
      <address type="IPv4">10.0.2.10/24</address>
      <address type="IPv6">2001:2::10/64</address>
    </interface>
    <alias domain="COREID">19</alias>
    <point lat="-17.7322124861" lon="-47.945394084" type="gps"/>
    <CORE:services name="n19">
      <service name="DefaultRoute" startup_idx="80"/>
      <service name="SSH" startup_idx="80"/>
      <service custom="True" name="BusterServer" startup_idx="50">
        <file name="buster_server.cfg"/>
        <file name="buster_server.sh"/>
        <file name="sensors.txt">
 2, -14.0831650347, -49.4030984872, 0.
 3, -15.2586421098, -47.8988661098, 0.
 5, -17.6120604234, -49.3750919052, 0.
13, -17.6105780563, -46.2006404987, 0.
16, -14.451676914,  -46.1818781943, 0.
</file>
        <command type="start">sh buster_server.sh</command>
        <command type="stop">pkill python</command>
      </service>
    </CORE:services>
  </host>
  <host id="n20" name="n20">
    <type domain="CORE">aircraft</type>
    <interface id="n20/eth0" name="eth0">
      <member index="9" type="channel">wlan31/wireless</member>
      <member type="network">wlan31</member>
      <address type="mac">00:00:00:aa:00:28</address>
      <address type="IPv4">10.0.0.20/24</address>
      <address type="IPv6">2001::20/128</address>
    </interface>
    <alias domain="COREID">20</alias>
    <point lat="-14.8457162149" lon="-46.0120608094" type="gps"/>
    <CORE:services name="n20">
      <service name="zebra" startup_idx="35"/>
      <service name="OSPFv3MDR" startup_idx="40"/>
      <service name="IPForward" startup_idx="5"/>
      <service name="DefaultMulticastRoute" startup_idx="80"/>
      <service name="GPSd" startup_idx="50"/>
      <service name="AdsbOut" startup_idx="50"/>
    </CORE:services>
  </host>
  <host id="n21" name="n21">
    <type domain="CORE">host</type>
    <interface id="n21/eth0" name="eth0">
      <member index="1" type="channel">net0/chan0</member>
      <member type="network">net0</member>
      <address type="mac">00:00:00:aa:00:32</address>
      <address type="IPv4">10.0.2.11/24</address>
      <address type="IPv6">2001:2::11/64</address>
    </interface>
    <alias domain="COREID">21</alias>
    <point lat="-17.7506209497" lon="-46.2062864383" type="gps"/>
    <CORE:services name="n21">
      <service name="DefaultRoute" startup_idx="80"/>
      <service name="SSH" startup_idx="80"/>
      <service name="Dump1090" startup_idx="50"/>
    </CORE:services>
  </host>
  <CORE:defaultservices>
    <device type="PC">
      <service name="DefaultRoute"/>
    </device>
    <device type="aircraft">
      <service name="zebra"/>
      <service name="OSPFv3MDR"/>
      <service name="vtysh"/>
      <service name="IPForward"/>
      <service name="DefaultMulticastRoute"/>
      <service name="AdsbOut"/>
    </device>
    <device type="ground-station">
      <service name="zebra"/>
      <service name="OSPFv3MDR"/>
      <service name="IPForward"/>
      <service name="GPSd"/>
      <service name="AdsbIn"/>
    </device>
    <device type="host">
      <service name="DefaultRoute"/>
      <service name="SSH"/>
    </device>
  </CORE:defaultservices>
  <CORE:sessionconfig>
    <origin alt="2.0" lat="-13.869227" lon="-49.918091" scale100="50000.0"/>
    <options>
      <parameter name="controlnet">172.17.0.0/16</parameter>
    </options>
    <metadata>
      <parameter name="global_options">interface_names=no ip_addresses=no ipv6_addresses=no node_labels=yes link_labels=yes show_api=no background_images=no annotations=yes grid=yes traffic_start=0</parameter>
      <parameter name="canvas c1">{name {Canvas1}} {refpt {0 0 -13.869227 -49.918091 2.0}} {scale {50000.0}} {size {1000 900}}</parameter>
    </metadata>
  </CORE:sessionconfig>
</scenario>
